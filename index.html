<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Made By Teo</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
</head>
<body>

  <div class="container">
    <div id="playlist">ƒêang t·∫£i danh s√°ch nh·∫°c...</div>
  </div>

  <div class="volume-widget">
    <i class="fas fa-volume-up"></i>
    <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1" />
  </div>

  <script>
    const API_URL = "https://json-e0t.pages.dev/song.json"; // üëâ Thay ƒë√∫ng link JSON

    const playlist = document.getElementById('playlist');

    fetch(API_URL)
      .then(res => {
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        return res.json();
      })
      .then(songs => {
        playlist.innerHTML = ''; // X√≥a d√≤ng "ƒêang t·∫£i..."
        songs.forEach(song => {
          const card = document.createElement('div');
          card.className = 'song-card';
          card.innerHTML = `
            <div class="flex-1">
              <h2 class="${song.class}">${song.title}</h2>
              <div class="progress-bar"><div class="progress"></div></div>
              <span class="time">00:00 / 00:00</span>
            </div>
            <button class="play-btn"><i class="fas fa-play"></i></button>
            <audio preload="metadata">
              <source src="${song.url}" type="audio/mpeg">
            </audio>
          `;
          playlist.appendChild(card);
        });

        // Sau khi t·∫°o xong .song-card th√¨ m·ªõi load script ch√≠nh
        const script = document.createElement('script');
        script.src = 'script.js';
        document.body.appendChild(script);
      })
      .catch(err => {
        console.error("Kh√¥ng load ƒë∆∞·ª£c danh s√°ch nh·∫°c:", err);
        playlist.innerHTML = "<p class='text-red-500'>Kh√¥ng t·∫£i ƒë∆∞·ª£c danh s√°ch nh·∫°c.</p>";
      });
  </script>

  <style>
    .rainbow-text {
      font-size: 20px;
      font-weight: bold;
      font-family: Arial, sans-serif;
      background: linear-gradient(to right,green, blue, indigo, violet);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>

  <!-- Popup -->
  <div id="popup" class="popup">
    <div class="popup-content">
      <p>Web ƒêang Trong GIAI ƒêO·∫†N PH√ÅT TRI·ªÇN</p>
      <h2>*Update Log</h2>
      <div class="popup-log">
        <p>- nghƒ© h√® r ae ch·ªù ik</p>
      </div>
      <button onclick="closePopup()">X</button>
    </div>
  </div>

</body>
</html>
